

import React, { useState } from 'react';
import { useAppContext } from '../../context/appContext';
import { LinkBtn } from '../../components/LinkBtn';

export const ShippingForm = () => {

    let { address, handleChange, countryList } = useAppContext();
    console.log(countryList)
    console.log(address)
    console.log('hello')

    let {name, email, phone, line1, line2, zip, city, country, state} = address

    let countries = countryList.map((country, index) => (
        <option className="options" value={`${country[1]}`} key={index}>{country[0]}</option>
    ))

    return (
        <div id="ship-form">
	    <form className="ship-form">
              <div>
		<label
                  htmlFor="name"
                  className="form__label label">Name</label>
		<input
                  className="form__input input"
                  type="text"
                  id="name"
                  name="name"
                  placeholder="Alexei Ward"
                  value={name}
                  onChange={(e) => handleChange(e)}
                  required />
              </div>

              <div>
		<label
                  htmlFor="email"
                  className="form__label label">Email</label>
		<input
                  className="form__input input"
                  type="email"
                  id="email"
                  name="email"
                  placeholder="alexei@mail.com"
                  value={email}
                  onChange={(e) => handleChange(e)}
                  required />
              </div>
      
               <div>
		 <label
                   htmlFor="phone"
                   className="form__label label">Phone Number</label>
		 <input
                  className="form__input input"
                   type="tel"
                   id="phone"
                   name="phone"
                   placeholder="+1 202-555-0136"
                   value={phone}
                  onChange={(e) => handleChange(e)}
                   required />
              </div>

              <div>
		<label
                  htmlFor="address"
                  className="form__label label">Your Address</label>
		<input
                  className="form__input input"
                  type="text"
                  id="address"
                  name="line1"
                  placeholder="1137 Williams Street"
                  value={line1}
                  onChange={(e) => handleChange(e)}
                  required />
		<input
                  className="form__input input"
                  type="text"
                  id="address"
                  name="line2"
                  placeholder="Apt 21"
                  value={line2}
                  onChange={(e) => handleChange(e)}
                  required />
              </div>

              <div>
		<label
                  htmlFor="zip"
                  className="form__label label">ZIP Code</label>
		<input
                  className="form__input input"
                  type="text"
                  inputMode="numeric"
                  pattern="\d*"
                  id="zip"
                  name="zip"
                  placeholder="48103"
                  value={zip}
                  onChange={(e) => handleChange(e)}
                  required />
              </div>
      
               <div>
		 <label
                   htmlFor="city"
                   className="form__label label">City</label>
		 <input
                  className="form__input input"
                   type="text"
                   id="city"
                   name="city"
                   placeholder="Ann Arbor"
                   value={city}
                  onChange={(e) => handleChange(e)}
                   required />
              </div>
		
               <div>
		 <label
                   htmlFor="state"
                   className="form__label label">State or Region</label>
		 <input
                  className="form__input input"
                   type="text"
                   id="state"
                   name="state"
                   placeholder="Michigan"
                   value={state}
                  onChange={(e) => handleChange(e)}
                   required />
              </div>

              
              <div className="country custom-select">
		<label
                  htmlFor="country"
                  className="form__label label">Country</label>

                <select
                  value={country}
                  name="country"
                  id="country"
                  onChange={(e) => handleChange(e)}>
                  {countries}
                </select>

              </div>


     
		<LinkBtn
		    path="/checkout"
		    theme="dark"
		    text="continue & pay"/>
	    </form>
        </div>
    )
}

